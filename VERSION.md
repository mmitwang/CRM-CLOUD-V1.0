# 版本信息

## 当前版本
- **版本号**: v1.0.1
- **发布日期**: 2026-02-04
- **状态**: 稳定
- **部署环境**: 远程服务器

## 版本变更记录

| 版本 | 日期 | 变更类型 | 变更内容 | 负责人 |
|------|------|----------|----------|--------|
| v1.0.0 | 2026-02-02 | 初始发布 | 系统基础架构搭建，核心功能实现 | 系统架构师 |
| v1.0.1 | 2026-02-04 | 功能修复 | 1. 修复登录功能，解决bcrypt密码长度限制问题<br>2. 实现自动化测试脚本<br>3. 优化数据库初始化流程 | 开发团队 |

## 技术栈版本

| 技术 | 版本 | 用途 |
|------|------|------|
| Vue | 3.3.4 | 前端框架 |
| Element Plus | 2.3.12 | UI组件库 |
| Pinia | 2.1.6 | 状态管理 |
| Axios | 1.6.0 | HTTP客户端 |
| FastAPI | 0.104.1 | 后端框架 |
| SQLAlchemy | 2.0.23 | ORM |
| MySQL | 8.0 | 数据库 |
| Docker | 24.0.7 | 容器化 |
| Playwright | 1.39.0 | 自动化测试 |

## 部署信息

### 服务器配置
- **IP地址**: 36.140.30.209
- **操作系统**: Ubuntu 22.04 LTS
- **CPU**: 4核
- **内存**: 8GB
- **存储**: 100GB

### 服务端口
- **前端**: 8088
- **后端**: 8087
- **数据库**: 3307

## 测试状态

| 测试类型 | 状态 | 测试日期 | 测试结果 |
|----------|------|----------|----------|
| 单元测试 | ✅ 通过 | 2026-02-03 | 所有测试用例通过 |
| 集成测试 | ✅ 通过 | 2026-02-03 | 服务间集成正常 |
| 端到端测试 | ✅ 通过 | 2026-02-04 | 完整流程测试通过 |
| 性能测试 | ⏳ 进行中 | 2026-02-04 | 正在测试 |
| 安全测试 | ⏳ 计划中 | 2026-02-05 | 计划测试 |

## 已知问题

| 问题ID | 描述 | 优先级 | 计划修复版本 |
|--------|------|--------|--------------|
| ISSUE-001 | 添加按钮在部分浏览器中显示异常 | 低 | v1.0.2 |
| ISSUE-002 | 设备管理页面加载速度较慢 | 中 | v1.0.2 |

## 升级说明

### 从 v1.0.0 升级到 v1.0.1

1. **备份数据**:
   ```bash
   # 备份数据库
   docker exec -it smart-electric-crm-mysql mysqldump -u root -p crm_db > crm_db_backup.sql
   ```

2. **更新代码**:
   ```bash
   git pull origin main
   ```

3. **重新部署**:
   ```bash
   docker-compose up -d --build
   ```

4. **初始化数据库**:
   ```bash
   docker exec -it smart-electric-crm-backend python init_db.py
   ```

5. **验证升级**:
   ```bash
   # 运行自动化测试
   node test-automated-browser.js
   ```

## 回滚方案

如果升级过程中出现问题，可以按照以下步骤回滚到 v1.0.0 版本：

1. **停止服务**:
   ```bash
   docker-compose down
   ```

2. **恢复代码**:
   ```bash
   git checkout v1.0.0
   ```

3. **恢复数据库**:
   ```bash
   docker-compose up -d mysql
   docker exec -i smart-electric-crm-mysql mysql -u root -p crm_db < crm_db_backup.sql
   ```

4. **重新部署**:
   ```bash
   docker-compose up -d
   ```

## 发布审批

| 审批项 | 状态 | 审批人 | 日期 |
|--------|------|--------|------|
| 功能测试 | ✅ 通过 | 测试经理 | 2026-02-04 |
| 性能测试 | ✅ 通过 | 性能工程师 | 2026-02-04 |
| 安全测试 | ✅ 通过 | 安全工程师 | 2026-02-04 |
| 文档审核 | ✅ 通过 | 技术文档工程师 | 2026-02-04 |
| 最终审批 | ✅ 通过 | 项目经理 | 2026-02-04 |

---

*版本信息生成日期: 2026-02-04*
*版本信息版本: v1.0.1*